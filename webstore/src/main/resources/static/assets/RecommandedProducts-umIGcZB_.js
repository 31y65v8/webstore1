import{_ as p,r as d,o as _,f as m,c as a,a as s,t as c,F as v,e as f,g as t}from"./index-CyoWKuPL.js";const g={class:"recommand-products"},h={key:0},k={key:1},y={key:2,class:"product-list"},x=["src"],B={class:"product-info"},I={__name:"RecommandedProducts",setup(N){const u=d([]),n=d(!0),r=d(null);return _(async()=>{var l,o;try{const e=localStorage.getItem("token");if(!e){r.value="未登录，请先登录获取推荐",n.value=!1;return}const i=await m.get("/api/recommand/products",{headers:{Authorization:`Bearer ${e}`},params:{topK:2,topN:10}});u.value=i.data.data}catch(e){r.value=((o=(l=e.response)==null?void 0:l.data)==null?void 0:o.message)||"获取推荐失败"}finally{n.value=!1}}),(l,o)=>(t(),a("div",g,[o[0]||(o[0]=s("h2",null,"为你推荐",-1)),n.value?(t(),a("div",h,"加载中...")):r.value?(t(),a("div",k,c(r.value),1)):(t(),a("div",y,[(t(!0),a(v,null,f(u.value,e=>(t(),a("div",{key:e.productId,class:"product-card"},[s("img",{src:e.productImage,alt:"商品图片",class:"product-image"},null,8,x),s("div",B,[s("h3",null,c(e.productName),1),s("p",null,"价格：¥"+c(e.productPrice),1),s("p",null,"销量："+c(e.productSales),1)])]))),128))]))]))}},S=p(I,[["__scopeId","data-v-e62e51cd"]]);export{S as default};
