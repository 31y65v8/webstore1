import{_ as p,r as i,c as o,a as t,F as g,e as _,f as y,g as n,t as l}from"./index-CyoWKuPL.js";const h=["disabled"],f={key:0,class:"loading"},k={key:1,class:"report-table"},v={__name:"CategoriesSalesReport",setup(b){const d=i([]),r=i(!1),c=async()=>{var u,e;r.value=!0;try{const a=localStorage.getItem("token"),s=await y.get("/api/admin/category-sales-report",{headers:{Authorization:`Bearer ${a}`}});s.data.code===200||Array.isArray(s.data)?d.value=s.data.data||s.data:alert("获取报表失败: "+(s.data.msg||"未知错误"))}catch(a){alert("获取报表失败: "+(((e=(u=a.response)==null?void 0:u.data)==null?void 0:e.msg)||a.message))}finally{r.value=!1}};return c(),(u,e)=>(n(),o("div",null,[e[1]||(e[1]=t("h2",null,"商品类别销售报表",-1)),t("button",{onClick:c,disabled:r.value},"刷新报表",8,h),r.value?(n(),o("div",f,"加载中...")):(n(),o("table",k,[e[0]||(e[0]=t("thead",null,[t("tr",null,[t("th",null,"类别"),t("th",null,"商品数"),t("th",null,"总销量"),t("th",null,"销售额"),t("th",null,"总库存"),t("th",null,"售罄商品数")])],-1)),t("tbody",null,[(n(!0),o(g,null,_(d.value,a=>(n(),o("tr",{key:a.category},[t("td",null,l(a.category),1),t("td",null,l(a.productCount),1),t("td",null,l(a.totalQuantity),1),t("td",null,l(a.totalSales),1),t("td",null,l(a.totalStock),1),t("td",null,l(a.soldOutCount),1)]))),128))])]))]))}},m=p(v,[["__scopeId","data-v-27b963b0"]]);export{m as default};
